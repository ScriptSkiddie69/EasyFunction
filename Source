local Custom = {
    Functions = {},
    Visuals = {},
    Player = {},
    Check = {},
    Bool = {}
    }
    function GetPlayer(String)
        local plr
        local strl = String:lower()
            for i, v in pairs(game:GetService("Players"):GetPlayers()) do
                if v.Name:lower():sub(1, #String) == String:lower() or v.DisplayName:lower():sub(1, #String) == String:lower() then
                    plr = v
                end 
            end
            if String == "me" then
                    plr = game.Players.LocalPlayer
                end
                if String == "random" then
                    local players = game.Players:GetPlayers()
                    plr = players[math.random(#players)]
                end
                if String == "all" or String == "everyone" or String == "Others" then
                    local players = game.Players:GetPlayers()
                    plr = players
                end
            if String == "" or String == " " then
               plr = nil
            end
        return plr
    end
    
    
    function Custom.Visuals:HighlightEsp(player,color)
    local character = GetPlayer(player).Character
    local highlight = Instance.new('Highlight')
    highlight.Parent = character
    highlight.Name = "MkRtLpAerTiyj"
    highlight.FillColor = color
    end
    function Custom.Visuals:DisableEsp(player)
        local character = GetPlayer(player).Character
        character:FindFirstChild('MkRtLpAerTiyj'):Destroy()
    end
    function Custom.Check:GetNearestPlayer()
        local nearest = nil
        local dist = math.huge 
        for _, player in pairs(game.Players:GetPlayers()) do
            if player ~= game.Players.LocalPlayer and player.Character then
                local distance = (game.Players.LocalPlayer.Character.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude
                if distance < dist then
                    nearest = player.Name
                    dist = distance
                end
            end
        end
        return nearest
    end
    function Custom.Functions:Teleport(player)
    local character = GetPlayer(player).Character
    game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = character.HumanoidRootPart.CFrame
    end
    function Custom.Functions:SetWalkSpeed(number)
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = number
    end
    function Custom.Functions:SetJumpPower(number)
        game.Players.LocalPlayer.Character.Humanoid.JumpPower = number
    end
    function Custom.Functions:SetLoop(Delay, bool, loopname, Function)
        _G[loopname] = bool
        while _G[loopname] do
            wait(Delay)
            Function()
        end
    end
    
    --Custom.Check:GetNearestPlayer() -- this will get the nearest player
    --Custom.Functions:Teleport(Custom.Check:GetNearestPlayer()) -- the getnearestplayer function will get the nearest player and it will teleport
    --Custom.Functions:Teleport('roblox') -- teleports to a player named roblox
    --Custom.Visuals:HighlightEsp('plrname example roblox',Color3.new(8, 255, 241)) -- this will enable esp to the target
return Custom
